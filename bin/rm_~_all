#!/bin/bash

for path in $(find ${1-.})
do
    name="$(echo $path | sed 's/.*\///')"
    
    # *~ file and #*# files
    if [[ -f $path ]]; then
	    if [[ $name =~ ~$|^#.*#$ ]]; then
	        echo "rmv $path"
	        rmv $path
	    fi
    fi

    # .#* files
    if [[ -h "$path" ]] && [[ ! -e "$path" ]]; then
	    if [[ $name =~ ^\.\# ]]; then
	        echo "rmv $path"
	        rmv $path
	    fi
    fi
done
